@use "../../App.scss" as *;

.step2_section {
  padding-top: 11rem;
  margin-bottom: 12rem;
  width: 100%;
  height: 82rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: hidden;
}

.step2_textbox {
  text-align: center;
  margin: 10rem 0 7rem;
  z-index: 10;
}

.step2_small {
  @include myTitle16($fw: 400, $ta: center);
  color: $grey8;
  margin-bottom: 1.2rem;
}

.step2_title {
  @include myTitle24($fw: 600, $ta: center);
  color: $grey10;
}

/* Swiper 컨테이너 */
.step2_swiper {
  width: 100%;
  max-width: 1400px;
  height: 40rem; // 슬라이더 전체 높이

  // 반원 형태를 위한 여유 공간 및 위치 조정
  padding: 0 0 150px; // 하단 패딩으로 카드 위치 올리기
  
  // 3D 원근감 설정 (Coverflow 효과의 깊이감에 필수)
  perspective: 1200px; 
  
  overflow: visible !important;
  
  .swiper-wrapper {
    // 트랜지션 부드럽게
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
    overflow: visible;
  }
}

/* Swiper Slide (카드 틀) */
.step2_slide {
  width: 300px; // 카드의 너비
  height: 400px; // 카드의 높이

  display: flex;
  flex-direction: column;
  align-items: center;
  
  // ⭐ 핵심: 회전 중심을 하단으로 설정!
  transform-origin: center bottom !important; 
  
  // 3D 효과 유지
  transform-style: preserve-3d;
  
  // 부드러운 전환
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* =========================
    카드 버튼 (이미지와 카드 배경)
========================= */
.step2_card {
  width: 100%;
  height: 100%;
  position: relative;
  border-radius: 1.2rem;
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transform-style: preserve-3d;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  box-sizing: border-box;

  &:hover {
    // 호버 시 살짝 떠오르는 효과
    transform: translateY(-15px); 
  }
}

/* 카드 이미지 */
.step2_card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 1.2rem;
  transition: all 0.5s ease;
  z-index: 10;
   object-fit: cover;
    transform: translateY(4rem); //카드이미지 조금 내리기
  
  
  .step2_card {
    // 중앙에 왔을 때 크기를 키우고 그림자 추가
    transform: translateY(-30px) scale(1.1); 
    box-shadow: 0 20px 80px rgba(0, 0, 0, 0.7);
  }
  
  
}

/* 양옆 및 나머지 카드 투명도 조정*/
.swiper-slide-prev,
.swiper-slide-next {
  .step2_card {
    opacity: 0.9;
  }
}

.step2_slide:not(.swiper-slide-active):not(.swiper-slide-prev):not(.swiper-slide-next) {
  .step2_card {
    opacity: 0.7; // 중앙에서 멀어질수록 더 흐리게
  }
}